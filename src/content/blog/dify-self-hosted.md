---
created: 2024-08-19T16:57
updated: 2024-09-06T09:18
tags:
  - programowanie
  - 1-sukces-dziennie
  - llm
  - dify
  - marketing
  - automatyzacja
  - innowacje
  - ai
  - wip
  - self-hosted
publishedAt: 2024-08-29T12:22
title: Jak Dify.ai pomaga w automatyzacji i integracji AI w biznesie
description: Odkryj, jak platforma Dify.ai uÅ‚atwia tworzenie i zarzÄ…dzanie aplikacjami opartymi na duÅ¼ych modelach jÄ™zykowych (LLM). Dowiedz siÄ™, jak integracja AI moÅ¼e zwiÄ™kszyÄ‡ efektywnoÅ›Ä‡ Twoich procesÃ³w biznesowych, dziÄ™ki automatyzacji i zaawansowanym agentom AI.
ogDescription: SprawdÅº, jak Dify.ai umoÅ¼liwia automatyzacjÄ™ i tworzenie inteligentnych aplikacji w Twoim biznesie, oszczÄ™dzajÄ…c czas i zasoby.
newsletterDescription: Jak Dify.ai moÅ¼e zrewolucjonizowaÄ‡ Twoje podejÅ›cie do automatyzacji? Zobacz, jak wykorzystujÄ™ tÄ™ platformÄ™ do integracji AI w moich projektach, oszczÄ™dzajÄ…c czas i zwiÄ™kszajÄ…c efektywnoÅ›Ä‡.
---
W dzisiejszym Å›wiecie, gdzie treÅ›Ä‡ i automatyzacja odgrywajÄ… kluczowÄ… rolÄ™ w biznesie, wiele firm boryka siÄ™ z wyzwaniami zwiÄ…zanymi z tworzeniem treÅ›ci oraz integracjÄ… sztucznej inteligencji w swoich procesach. Tradycyjne metody sÄ… czÄ™sto czasochÅ‚onne i wymagajÄ… duÅ¼ych zasobÃ³w.

Obecnie borykam siÄ™Â z marketingiem aplikacji [[speechzap|SpeechZap]], dlatego postanowiÅ‚em przetestowaÄ‡ narzÄ™dzia, ktÃ³re mi w tym pomogÄ….

Do tej pory poznaÅ‚em dwa: [Quivr](https://www.quivr.com/) i [Dify](https://dify.ai/). I o ile opinie o Quivr sÄ… bardzo dobre, o tyle wypada blado przy bardziej rozbudowanym i konfigurowalnym Dify.

Dlatego dzisiaj opowiem o tym:
- czym jest to narzÄ™dzie,
- jakie moÅ¼liwoÅ›ci w nim widzÄ™,
- (dla nietechnicznych) jak moÅ¼na korzystaÄ‡ z wersji chmurowej i ...
- (dla programistÃ³w) jakie wyzwania napotkaÅ‚em stawiajÄ…c to samodzielnie.

## Czym jest Dify?

Dify.ai to platforma do rozwijania aplikacji opartych na duÅ¼ych modelach jÄ™zykowych (LLM). UmoÅ¼liwia teÅ¼ automatyzacjÄ™ procesÃ³w biznesowych.

Dify.ai oferuje:

- **OrkiestracjÄ™ aplikacji AI**: UmoÅ¼liwia wizualne projektowanie aplikacji AI w jednym miejscu, co uÅ‚atwia integracjÄ™ rÃ³Å¼nych procesÃ³w.
- **Budowanie autonomicznych agentÃ³w AI**: UÅ¼ytkownicy mogÄ… tworzyÄ‡ agentÃ³w, ktÃ³rzy samodzielnie wykonujÄ… zÅ‚oÅ¼one zadania, korzystajÄ…c z danych i narzÄ™dzi zdefiniowanych przez przedsiÄ™biorstwo.
- **IntegracjÄ™ z istniejÄ…cymi systemami**: Dify pozwala na pÅ‚ynne wÅ‚Ä…czenie AI w struktury firmy, co zwiÄ™ksza efektywnoÅ›Ä‡ i optymalizacjÄ™ procesÃ³w.
- **ZarzÄ…dzanie danymi i modelami**: NarzÄ™dzie monitoruje dziaÅ‚anie modeli AI, co pozwala na ich ciÄ…gÅ‚e doskonalenie i dostosowywanie do zmieniajÄ…cych siÄ™ potrzeb biznesowych.

DziÄ™ki Dify, firmy mogÄ… szybko wprowadzaÄ‡ innowacje, automatyzowaÄ‡ procesy oraz tworzyÄ‡ aplikacje AI, ktÃ³re sÄ… dostosowane do ich specyficznych wymagaÅ„.

Ten powyÅ¼szy, ogÃ³lny opis przygotowaÅ‚o mi Perplexity i nie bardzo wiadomo co to w praktyce oznacza, dlatego powiem jeszcze jak ja to widzÄ™.

## Po co mi to?

Mam juÅ¼ caÅ‚kiem sporo artykuÅ‚Ã³w na moim blogu. Do tego tworzÄ™ treÅ›ci na social media (IN, FB, X, wip.co). I mam wiele projektÃ³w. Czasami pytam sztucznÄ… (np. ChatGPT) o:
- nowe pomysÅ‚y na akcje marketingowe,
- sposoby dotarcia do mojej grupy docelowej,
- tematy na nowe posty czy artykuÅ‚y.

Jednak aby uzyskaÄ‡ sensowne rezultaty, to muszÄ™ zaÅ‚adowaÄ‡ duÅ¼o kontekstu.

A tego kontekstu przecieÅ¼ mam juÅ¼ sporo. Codziennie opisujÄ™ (w myÅ›l idei *build-in-public*) postÄ™py w pracach nad moimi projektami. Jednak caÅ‚ego bloga nie zaÅ‚adujÄ™Â do kontekstu, bo to uciÄ…Å¼liwe i zniechÄ™cajÄ…ce.

I tutaj wÅ‚aÅ›nie z pomocÄ… przychodzi Dify. MogÄ™ stworzyÄ‡ bazÄ™ wiedzy (artykuÅ‚y z bloga, Business Model Canvas, treÅ›ci postÃ³w na socialach, itp.) i rozpoczÄ…Ä‡ konwersacjÄ™ w taki sposÃ³b, w jaki korzystaÅ‚bym z Chat GPT.

Tylko tym razem, na podstawie mojego zapytania, Dify wybierze te fragmenty z bazy wiedzy, ktÃ³re bÄ™dÄ… istotne dla wykonania zadania, np. przygotowania opisu aplikacji SpeechZap do sklepu.

Taka technologia nazywa siÄ™ RAG (*Retrieval-Augmented Generation*).

ZastosowaÅ„ jest oczywiÅ›cie znacznie wiÄ™cej. Na tej samej zasadzie dziaÅ‚ajÄ… na przykÅ‚ad chat boty oparte o sztucznÄ… inteligencjÄ™, ktÃ³re potrafiÄ… odpowiadaÄ‡ na pytania klientÃ³w, korzystajÄ…c z przygotowanej bazy wiedzy.

MoÅ¼na wiÄ™c powiedzieÄ‡,Â Å¼e w obecnych czasach *context is king*, a Dify dostarcza wÅ‚aÅ›nie kontekst.
## PrzecieÅ¼ moÅ¼na proÅ›ciej...

\- Ale dobra - powiesz - przecieÅ¼ jest Chat GPT i moÅ¼na tworzyÄ‡ swoich agentÃ³w w taki wÅ‚aÅ›nie sposÃ³b (*custom GPT*).

\- Tak. MoÅ¼na. I tak teÅ¼ robiÅ‚em. Tylko tego nie da siÄ™ zintegrowaÄ‡ z niczym. Nie ma API.

\- Ale dobra - powiesz - moÅ¼na stworzyÄ‡ wÅ‚asnych asystentÃ³w i uÅ¼ywaÄ‡ API.

\- *Fair enough*. Ale nie moÅ¼na wykorzystywaÄ‡ innych modeli niÅ¼ te od OpenAI. A przecieÅ¼ rynek *generative AI* jest juÅ¼ ogromny. Poza tym nie da siÄ™Â tworzyÄ‡ bardziej rozbudowanych automatyzacji...

## Automatyzacje

Dify potrafi jednak znacznie wiÄ™cej, niÅ¼ robienie prostego RAG i chatbota opartego na dostarczonej bazie wiedzy. MoÅ¼na poÅ‚Ä…czyÄ‡Â ze sobÄ… [wiele narzÄ™dzi](https://cloud.dify.ai/tools) (wyszukiwarki, narzÄ™dzia LLM, narzÄ™dzia Google, i wiele innych) i stworzyÄ‡ automatyzacje, ktÃ³re wykonujÄ…Â za Ciebie rzeczy, wymagajÄ…ce specyficznej wiedzy.

GarÅ›Ä‡ inspiracji znajdziesz w [zakÅ‚adce Explore](https://cloud.dify.ai/explore/apps).

![Jak Dify.ai pomaga w automatyzacji i integracji AI w biznesie - przykÅ‚ady automatyzacji](./jak-dify-ai-pomaga-w-automatyzacji-i-integracji-ai-w-biznesie-przyk-ady-automatyzacji.png)

Jak widaÄ‡, moÅ¼esz np. stworzyÄ‡ swojego wÅ‚asnego chat bota i wstawiÄ‡ na stronÄ™. BÄ™dzie odpowiadaÅ‚ na pytania klientÃ³w na podstawie danych o ofercie.

Inny przykÅ‚ad: automatyczne odpowiadanie na emaile. Dify moÅ¼e najpierw sprawdziÄ‡ jakiego rodzaju pytanie padÅ‚o w treÅ›ci, a nastÄ™pnie wybraÄ‡ odpowiedniÄ…Â bazÄ™ wiedzy i przygotowaÄ‡ na jej podstawie odpowiedÅº.

![Jak Dify.ai pomaga w automatyzacji i integracji AI w biznesie - workflows](./jak-dify-ai-pomaga-w-automatyzacji-i-integracji-ai-w-biznesie-workflows.png)

## Wersja chmurowa

ZaczÄ…Å‚em od wersji Cloud, jednak szybko natrafiÅ‚em na ograniczenia:
- limit do 50 plikÃ³w w bazie wiedzy (sama seria [[1-sukces-dziennie|1 sukces dziennie]] na moim blogu ma juÅ¼ ponad 90 postÃ³w)
- prÃ³bowaÅ‚em Business Model Canvas dla [[speechzap|SpeechZap]] wrzuciÄ‡ w *chunkach* po jednym na kaÅ¼dy segment (9 sztuk) i okazaÅ‚o siÄ™,Â Å¼e to dostÄ™pne jest tylko w wersji premium ğŸ˜

Ale wiem, Å¼e jest wersja [self-hosted](https://docs.dify.ai/getting-started/install-self-hosted), a ja mam wÅ‚asny serwer (w sumie trzy, nie wiedzieÄ‡ po co ğŸ˜…). MÃ³gÅ‚bym najpierw postawiÄ‡ lokalnie na wÅ‚asnym komputerze, ale zaleÅ¼aÅ‚o mi, Å¼ebym juÅ¼ mÃ³gÅ‚ stopniowo zintegrowaÄ‡ moje narzÄ™dzia z Dify.

## Self-hosted

Do hostowania projektÃ³w *open-source* korzystam z [CapRover](https://caprover.com/). Niestety, w przypadku Dify nie ma tzw. *one-click app*, co jest chyba najwiÄ™kszÄ… zaletÄ… tego narzÄ™dzia. Wszystkie serwisy trzeba wyklikaÄ‡ po kolei samemu, ustawiajÄ…c poszczegÃ³lne zmienne Å›rodowiskowe.

PostawiÅ‚em serwisy (w takiej kolejnoÅ›ci):
- Postgres
- Redis
- Weaviate
- API
- Web

Obrazy dockerowe wziÄ…Å‚em z pliku `docker-compose.yml` z repozytorium.

## Serwer

Przy pierwszej prÃ³bie uruchomienia wywaliÅ‚ mi siÄ™Â serwer VPS hostowany w Hetzner. *Deploy* zajÄ…Å‚ mi na 10 minut 200% procesora (oba vCPU jakie miaÅ‚em dostÄ™pne) i uznaÅ‚em,Â Å¼e moÅ¼e warto coÅ› pozmieniaÄ‡ w konfiguracji serwera.

Ku mojemu zaskoczeniu okazaÅ‚o siÄ™,Â Å¼e mam dostÄ™pny lepszy VPS za mniej hajsu! Do tej pory miaÅ‚em 2vCPU, 4GB RAM, 80GB SSD i zrobiÅ‚em *rescale* do 4vCPU (reszta to samo). WczeÅ›niej kosztowaÅ‚o 9.7 â‚¬ teraz 6.3 â‚¬ ğŸ˜²
## Migracje

DÅ‚uÅ¼szÄ… chwilÄ™Â walczyÅ‚em z migracjami. Podczas prÃ³by instalacji wywalaÅ‚o mi bÅ‚Ä…d dostÄ™pu do nieistniejÄ…cej tabeli. OkazaÅ‚o siÄ™,Â Å¼e muszÄ™ wÅ‚Ä…czyÄ‡ migracjÄ™ za pomocÄ…Â flagi `MIGRATION_ENABLED` ğŸ˜² Dopiero wtedy przy starcie apki odpaliÅ‚y siÄ™Â migracje i mogÅ‚em instalowaÄ‡.


![Jak Dify.ai pomaga w automatyzacji i integracji AI w biznesie - brakujÄ…ca zmienna Å›rodowiskowa](./jak-dify-ai-pomaga-w-automatyzacji-i-integracji-ai-w-biznesie-brakuj-ca-zmienna-rodowiskowa.png)

## Inne problemy

NastÄ™pnym problemem byÅ‚ komunikat:
> Setup failed: Could not connect to the endpoint URL (...) private.pem

WynikaÅ‚o to z Åºle ustawionego URL do S3, w ktÃ³rym trzymam pliki.

WywaliÅ‚o mi siÄ™Â teÅ¼ podczas indeksowania pliku, bo host serwera Redis byÅ‚ nieprawidÅ‚owy (ale to juÅ¼ moja nieuwaga).

## Bez workera?

UznaÅ‚em,Â Å¼e bÄ™dÄ™ stawiaÅ‚ to, co jest konieczne. JeÅ›li coÅ›Â wybuchnie, to dopiero wtedy bÄ™dÄ™ dokÅ‚adaÅ‚ kolejne serwisy. I w ten sposÃ³b, po postawieniu podstawowej aplikacji (coÂ byÅ‚o dla mnie ÅºrÃ³dÅ‚em duÅ¼ej satysfakcji), okazaÅ‚o siÄ™, Å¼e nie dziaÅ‚a indeksowanie plikÃ³w dodawanych do bazy wiedzy. CaÅ‚y czas wisiaÅ‚o na statusie `Queuing`. 

W [docsach](https://docs.dify.ai/getting-started/install-self-hosted/docker-compose) doczytaÅ‚em,Â Å¼e potrzebny jest jeszcze `worker`. Ma to sens. PostawiÅ‚em szybko kolejny serwis, kopiujÄ…c wszystkie zmienne Å›rodowiskowe i zmieniajÄ…c jedynie `MODE` z `api` na `worker`. Indeksowanie poszÅ‚o od kopa.

## Ile to kosztuje?

Sam RAG, oparty o *embeddings* nie jest bardzo kosztowny. OczywiÅ›cie, im wiÄ™kszy model i im wiÄ™cej treÅ›ci, tym droÅ¼ej. Gdy przy poprzednich, droÅ¼szych i sÅ‚abszych modelach OpenAI indeksowaÅ‚em caÅ‚Ä… mojÄ… bazÄ™ wiedzy w Obsidian (ponad 2.5mln znakÃ³w), kosztowaÅ‚o ok. \$0.60, czyli jakieÅ› 2.5 zÅ‚.

Znacznie wiÄ™cej bÄ™dzie kosztowaÄ‡ oczywiÅ›cie generowanie treÅ›ci z uÅ¼yciem droÅ¼szych modeli typu `gpt-4o`, bo do kontekstu bÄ™dÄ… trafiaÄ‡ fragmenty treÅ›ci z bazy wiedzy, trzeba doliczyÄ‡ *prompt* i zwrotka z modelu jÄ™zykowego zazwyczaj jest kilkukrotnie droÅ¼sza od tego, co do modelu wprowadzamy.

## Podsumowanie

Dify pozwala zintegrowaÄ‡ mojego aplikacje z LLM. DziÄ™ki temu mogÄ™ za pomocÄ… API stworzyÄ‡ bazÄ™ wiedzy, uruchomiÄ‡ zaawansowany *workflow* i odblokowaÄ‡ nowe moÅ¼liwoÅ›ci.

Do tej pory korzystaÅ‚em z ChatGPT Plus, wiÄ™c pÅ‚aciÅ‚em \$20 miesiÄ™cznie i musiaÅ‚em rÄ™cznie zaÅ‚adowaÄ‡ bazÄ™ wiedzy, a potem rÄ™cznie wprowadzaÄ‡ komendy.

W Dify pÅ‚acÄ™ za wygenerowane tokeny, ale:
- nie mam limitÃ³w konwersacji,
- mogÄ™ zautomatyzowaÄ‡ moje procesy,
- mogÄ™ uÅ¼yÄ‡ dowolnego modelu dostÄ™pnego na rynku.

Im wiÄ™cej bÄ™dÄ™ korzystaÅ‚ z Dify, tym mniej bÄ™dzie mi siÄ™ chciaÅ‚o wracaÄ‡ do ChatGPT. Åatwiej bÄ™dzie wtedy przesiÄ…Å›Ä‡ siÄ™Â zupeÅ‚nie.