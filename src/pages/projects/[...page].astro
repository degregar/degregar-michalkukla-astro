---
import type { GetStaticPathsOptions, Page } from 'astro';
import { type CollectionEntry, getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import Pagination from '../../components/Pagination.astro';
import ProjectPreview from '../../components/ProjectPreview.astro';
import siteConfig from '../../data/site-config';
import { sortItemsByDateDesc } from '../../utils/data-utils';

export async function getStaticPaths({ paginate }: GetStaticPathsOptions) {
    const projects = (await getCollection('projects')).sort(sortItemsByDateDesc);
    return paginate(projects, { pageSize: siteConfig.projectsPerPage || 6 });
}

type Props = { page: Page<CollectionEntry<'projects'>> };

const { page } = Astro.props;
const portfolio = page.data;
---

<BaseLayout
    title="Portfolio"
    description="Explore a diverse portfolio showcasing my passion and expertise"
    image={{ src: '/dante-preview.jpg', alt: 'The preview of the site' }}
    showHeader={false}
>
    <h1 class="mb-12 text-2xl leading-tight font-serif italic sm:mb-16 sm:text-4xl">Projekty</h1>

    <section class="prose mb-16 prose-dante">
        <p>
            Przez caÅ‚e moje Å¼ycie nazbieraÅ‚em mnÃ³stwo doÅ›wiadczeÅ„ z wprowadzania wÅ‚asnych projektÃ³w i produktÃ³w w Å¼ycie. PostanowiÅ‚em podzieliÄ‡ siÄ™ moimi historiami, przekonaniami, ktÃ³re powodowaÅ‚y, Å¼e podejmowaÅ‚em takie, a nie inne decyzje, przyczynami niepowodzeÅ„ i lekcjami, jakie z tych niepowodzeÅ„ wyciÄ…gnÄ…Å‚em. To bÄ™dzie historia moich wszystkich projektÃ³w, startupÃ³w, przedsiÄ™wziÄ™Ä‡ i pomysÅ‚Ã³w na biznes.
        </p>
        <p>
            No dobra, nie wszystkich. ByÅ‚o tego zdecydowanie za duÅ¼o. Tak duÅ¼o, Å¼e moja Å¼ona po moim kolejnym â€Mam pomysÅ‚!â€, zatykaÅ‚a uszy i Å›piewaÅ‚a â€lalalaâ€. PÃ³Åºniej wystarczyÅ‚o jej zobaczyÄ‡ bÅ‚ysk w moich oczach by zadecydowaÄ‡: â€Nie!â€
        </p>
        <p>
            Cykl Å¼ycia niektÃ³rych z tych projektÃ³w zaczynaÅ‚ siÄ™ i koÅ„czyÅ‚ w ciÄ…gu minut. NiektÃ³re trwaÅ‚y dÅ‚uÅ¼ej. NiektÃ³re trwaÅ‚y duÅ¼o dÅ‚uÅ¼ej. DuÅ¼o, duÅ¼o dÅ‚uÅ¼ej. Zdecydowanie zbyt dÅ‚ugo. I to jedna z trudnych lekcji, jakich siÄ™ nauczyÅ‚em w ciÄ…gu caÅ‚ej mojej dotychczasowej kariery. Prawdopodobnie to jedna z najwaÅ¼niejszych lekcji, ktÃ³rej w dodatku nie przyswoiÅ‚em jeszcze jak naleÅ¼y. Ale dojdziemy do tego ğŸ™‚
        </p>
        <p>
            ZacznÄ™ wiÄ™c od poczÄ…tku. MoÅ¼e uda mi siÄ™ nakreÅ›liÄ‡ tÅ‚o. W teÅ›cie Gallupa wyszÅ‚o mi, Å¼e jestem mocny w Context (moÅ¼e dorzucÄ™ tu kiedyÅ› link do listy wszystkich moich mocnych stron, wynikÃ³w testÃ³w osobowoÅ›ci, jakie robiÅ‚em i po co i co sÄ…dzÄ™ o tych wszystkich testach).
        </p>
        <p>
            BÄ™dÄ™ staraÅ‚ siÄ™ wiÄ™c zawrzeÄ‡ wystarczajÄ…co kontekstu, Å¼ebyÅ› mÃ³gÅ‚ wyciÄ…gnÄ…Ä‡ z tego swoje wnioski.
        </p>
        <p>
            A wiÄ™c lecim!
        </p>
    </section>


    {portfolio.map((project) => <ProjectPreview project={project} class="mb-10 sm:mb-12" />)}
    <Pagination page={page} class="my-16 sm:my-24" />
</BaseLayout>
